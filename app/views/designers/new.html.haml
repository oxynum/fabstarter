.wrapper.no-bg
  .logo.solo
    %a{ :href => "/", :title => "Meet the Team" }
      = image_tag("logo-form.png", class: 'logo-img', width:'100')
  .form-container
    = form_for @designer do |f|
      .input
        = f.text_field :firstname, required: true, placeholder: t(:first)
        = f.text_field :lastname, required: true, placeholder: t(:last)
      .input
        = f.email_field :email, required: true, placeholder: t(:email)
        = f.text_field :city, required: true, placeholder: t(:city)
      .input
        = f.text_field :phone_number, required: true, placeholder: t(:phone_number)
        = country_select("designer", "country", priority_countries: ["GB", "FR", "DE"], required: true, placeholder: t(:country))
      .textarea{maxlength: '500'}
        = f.text_area :comment, placeholder: t(:comment)
      %p.pic-describe
        Show us your talent and upload some examples or send us a link !
      .upload
        .custom-file-input#preview1
          = f.file_field :file_1, onchange: "handleFiles1(this.files)"
        .custom-file-input#preview2
          = f.file_field :file_2, onchange: "handleFiles2(this.files)"
        .custom-file-input#preview3
          = f.file_field :file_3, onchange: "handleFiles3(this.files)"
      .website
        = f.text_field :website_url, placeholder: t(:website_url)
      .submit
        = f.submit 'Submit'
    .clear
  %span.copyright
:javascript
  var preview1;
  var preview2;
  var preview3;

  preview1 = document.getElementById("preview1");
  preview2 = document.getElementById("preview2");
  preview3 = document.getElementById("preview3");


  function handleFiles1(files) {
    for (var i = 0; i < files.length; i++) {
      var file = files[i];
      var imageType = /^image\//;

      if (!imageType.test(file.type)) {
        continue;
      }

      var img = document.createElement("img");
      img.classList.add("obj");
      img.file = file;
      preview1.appendChild(img); // Assuming that "preview" is the div output where the content will be displayed.

      var reader = new FileReader();
      reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);
      reader.readAsDataURL(file);
    }
  }



  function handleFiles2(files) {
    for (var i = 0; i < files.length; i++) {
      var file = files[i];
      var imageType = /^image\//;

      if (!imageType.test(file.type)) {
        continue;
      }

      var img = document.createElement("img");
      img.classList.add("obj");
      img.file = file;
      preview2.appendChild(img); // Assuming that "preview" is the div output where the content will be displayed.

      var reader = new FileReader();
      reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);
      reader.readAsDataURL(file);
    }
  }


  function handleFiles3(files) {
    for (var i = 0; i < files.length; i++) {
      var file = files[i];
      var imageType = /^image\//;

      if (!imageType.test(file.type)) {
        continue;
      }

      var img = document.createElement("img");
      img.classList.add("obj");
      img.file = file;
      preview3.appendChild(img); // Assuming that "preview" is the div output where the content will be displayed.

      var reader = new FileReader();
      reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);
      reader.readAsDataURL(file);
    }
  }
